{% extends 'base.html.twig' %}

{% block title %}New Game{% endblock %}

{% block body %}
    <h1>Create new Game</h1>

    {{ include('game/_form.html.twig') }}

    <a href="{{ path('app_game_index') }}">back to list</a>
    

<script>
var tournamentGame = $('#game_tournamentGame');
// When sport gets selected ...
tournamentGame.change(function() {
  // ... retrieve the corresponding form.
  var $form = $(this).closest('form');
  // Simulate form data, but only include the selected sport value.
  var data = {};
  data[tournamentGame] = parseInt(tournamentGame.val());
  // Submit data via AJAX to the form's action path.
  console.log(data[tournamentGame]);
  $.ajax({
    url : $form.attr('action'),
    type: $form.attr('method'),
    data : data,
    complete: function(html) {
      // Replace current position field ...
      $('#game_nbTotalPlayer').replaceWith(
        // ... with the returned one from the AJAX response.
        $(html.responseText).find('#game_nbTotalPlayer')
      );
      // Position field now displays the appropriate positions.
    }
  });
});
</script>
{% endblock %}
